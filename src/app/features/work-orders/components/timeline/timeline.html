<div class="timeline-grid-wrapper">
    <div class="timeline-header">
        <div class="timeline-header-content">
            @for (column of timelineColumns(); track column.date) {
                <div
                    class="timeline-column"
                    [class.current-month]="column.isCurrent"
                >
                    <div class="column-label">{{ column.label }}</div>
                    @if (column.isCurrent) {
                        <div class="current-month-label">Current month</div>
                    }
                </div>
            }
        </div>
    </div>

    <div class="timeline-body">
        @for (center of workCenters(); track center.docId) {
            <div class="timeline-row">
                <div class="grid-cells-layer">
                    @for (column of timelineColumns(); track column.date) {
                        <div
                            class="grid-cell"
                            (click)="_addNew(center, column)"
                        >
                            <div class="grid-cell-inner">
                                <div class="add-new">
<!--                                    <div class="add-new-hint">-->
<!--                                        Click to add dates-->
<!--                                    </div>-->
                                </div>
                            </div>
                        </div>
                    }
                </div>

                <div class="work-orders-layer">
                    @for (order of center.docId | mapper : _getWorkOrdersForCenter; track order.docId) {
                        <app-work-order-bar
                            [order]="order"
                            [zoomLevel]="zoomLevel()"
                            [timelineColumns]="timelineColumns()"
                        ></app-work-order-bar>
                    }
                </div>
            </div>
        }
    </div>
</div>
